@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Theme CSS Variables
 * 
 * Theme variables are dynamically injected at the page level based on:
 * - League pages: Theme from leagues_info table (--league-primary, --league-secondary, --league-accent)
 * - Team pages: Theme from teams table (--team-primary, --team-secondary, --team-accent)
 * - Player pages: Theme from player's current team (--team-primary, --team-secondary, --team-accent)
 * 
 * Usage Examples:
 * 
 * In CSS:
 *   .themed-element {
 *     background-color: var(--league-primary, #default-color);
 *     border-color: var(--league-accent, #default-color);
 *   }
 * 
 * In Tailwind (using arbitrary values):
 *   <div class="bg-[var(--league-primary)] text-[var(--league-secondary)]">
 * 
 * In inline styles:
 *   <div style="background-color: var(--team-primary)">
 * 
 * Note: Always provide fallback colors as the second parameter to var() since
 * theme variables may not be present on all pages.
 */

@layer components {
  /* Card styles with white/red accents */
  .card-border {
    @apply border border-white/20 hover:border-patriot-red-500/50 transition;
  }
  
  .card-bg {
    @apply bg-patriot-blue-900/50 backdrop-blur-sm;
  }

  /* G.R.A.D.E. Brand Gradients */
  .grade-gradient {
    background: linear-gradient(135deg, rgba(220, 38, 38, 0.1) 0%, rgba(255, 255, 255, 0.05) 50%, rgba(30, 58, 138, 0.1) 100%);
  }

  .grade-accent-gradient {
    background: linear-gradient(135deg, #DC2626 0%, #FFFFFF 50%, #1E3A8A 100%);
  }

  .neon-edge {
    box-shadow: 0 0 10px rgba(220, 38, 38, 0.3), 0 0 20px rgba(220, 38, 38, 0.2);
  }

  .neon-edge-blue {
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3), 0 0 20px rgba(59, 130, 246, 0.2);
  }
}

@layer utilities {
  /* Screen reader only - for accessibility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Focus indicators for keyboard navigation - WCAG compliant */
  *:focus-visible {
    outline: 2px solid #3B82F6;
    outline-offset: 2px;
  }

  /* Ensure interactive elements have sufficient contrast on focus */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid #60A5FA;
    outline-offset: 2px;
  }

  /* Respect user's motion preferences - WCAG 2.3.3 */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Ensure sufficient color contrast for text - WCAG AA minimum 4.5:1 */
  /* Text colors are checked to meet contrast requirements */
  .text-neutral-200 {
    color: #e5e7eb; /* Contrast ratio: 12.6:1 on bg-brand-navy */
  }
  
  .text-neutral-300 {
    color: #d1d5db; /* Contrast ratio: 10.5:1 on bg-brand-navy */
  }
  
  .text-neutral-400 {
    color: #9ca3af; /* Contrast ratio: 7.1:1 on bg-brand-navy */
  }

  /* Animations */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(220, 38, 38, 0.3);
    }
    50% {
      box-shadow: 0 0 20px rgba(220, 38, 38, 0.6), 0 0 30px rgba(220, 38, 38, 0.4);
    }
  }

  @keyframes tier-transition {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.2s ease-in-out;
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-tier-transition {
    animation: tier-transition 0.3s ease-out;
  }

  /* Row reveal animation with stagger */
  .row-reveal {
    animation: slide-up 0.4s ease-out forwards;
    opacity: 0;
  }

  /* Subtle data visualization background pattern */
  .grade-pattern {
    background-image: 
      linear-gradient(45deg, rgba(220, 38, 38, 0.03) 25%, transparent 25%),
      linear-gradient(-45deg, rgba(220, 38, 38, 0.03) 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, rgba(30, 58, 138, 0.03) 75%),
      linear-gradient(-45deg, transparent 75%, rgba(30, 58, 138, 0.03) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  }
}
